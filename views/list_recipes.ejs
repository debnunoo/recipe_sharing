<!DOCTYPE html>
<head>
    <title> Welcome to <%= recipeSharingName %> </title>
    <link rel="stylesheet" type="text/css" href="/main.css" />
</head>
<header>
    <!-- Making the logo clickable and redirecting to homepage -->
    <div>
        <a href="./">
            <img src="/logo.png" alt="Website logo">
        </a>
    </div>
</header>
<body>
    <h1> Recipes </h1>
    <!-- Creating a table that the recipe information will be displayed to users -->
    <table class="listing_recipe">
        <!-- Creating the table head that will store the column headers -->
        <tr>
            <!-- Column headers that will be displayed -->
            <th>Recipe Name</th>
            <th>Cuisine</th>
            <th>Description of recipe</th>
            <th>Ingredients</th>
            <th>Recipe Method</th>
        </tr>
            <!-- rows beneath the column headers -->
            <!-- Creating a for loop that will read into the recipes table -->
            <!-- Each field will be displayed in each column under their respective column headers -->
            <% availableRecipes.forEach(function(recipe) { %>
                <tr>
                    <td><%= recipe.recipe_name %></td>
                    <td><%= recipe.cuisine %></td>
                    <td><%= recipe.recipe_description %></td>
                    <td><%= recipe.ingredients %></td>
                    <td><%= recipe.recipe_method %></td>
                    <!-- Column that will contain delete buttons -->
                    <!-- Button (on respective row) will delete that specific recipe -->
                    <td>
                        <form action="/delete/<%= recipe.recipe_id %>" method="post">
                            <input type="hidden" name="recipe_id">
                            <!-- Ensuring confirmation before deletion -->
                            <button type="submit" onclick="return confirm('Are you sure you want to delete this recipe')">Delete post</button>
                        </form>
                    </td>
                </tr>
            <% }) %>
    </table>
    <br>
    <!-- window.location.href adapted from (How To â€“ Redirect to Another Webpage, n.d) -->
    <!-- Adding a button here so the user can add the recipe if they wish after viewing the list of recipes available on the page -->
    <button id="recipe_add" type="button" onclick="window.location.href = 'add_recipe'">Add Recipe</button>
</body>
<footer>
    <!-- adding a back button to allow users to navigate back to the previous page if they wish -->
    <div class="back-button">
        <a href="javascript:history.back()">
            <img src="/back_button.png" alt="Back Button" width="30px" height="30px">
        </a>
    </div>
</footer>
</html>
